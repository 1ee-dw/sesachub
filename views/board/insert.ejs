<!DOCTYPE html>
<html lang="en">
<%- include('../include/include.ejs', {title:"커뮤니티"}); %>
    <link rel="stylesheet" href="/static/css/board.css">

    <body>
        <%- include('../include/header.ejs'); %>
            <div class="container">
                <div class="center">
                    <form name="writer">
                        <input type="hidden" name="u_id" value="<%=session.u_id%>">
                        <div>
                            <select name="category">
                                <option value="free">자유</option>
                                <option value="study">공부</option>
                                <option value="employ">취업정보</option>
                                <option value="qualification">자격증&어학</option>
                            </select>
                            <input type="text" name="title" />
                        </div>
                        <div>
                            <textarea name="content" rows="30"></textarea>
                        </div>
                        <input type="button" onclick="boardInsert()" value="글 작성" />
                    </form>
                </div>
            </div>

            <script>
                async function boardInsert() {
                    const form = document.forms['writer'];
                    await axios({
                        method: "POST",
                        url: "/board/insert",
                        data: {
                            u_id: form.u_id.value,
                            category: form.category.value,
                            title: form.title.value,
                            content: form.content.value
                        }
                    })
                    location.href = '/board'
                }
            </script>
    </body>

</html>